#read once

struct modTags {
    bool alternativeHistory = false
    bool balance = false
    bool events = false
    bool fixes = false
    bool gameplay = false
    bool graphics = false
    bool historical = false
    bool ideologies = false
    bool map = false
    bool military = false
    bool nationalFocuses = false
    bool sound = false
    bool technologies = false
    bool translation = false
    bool utilities = false
}

struct mod {
    string name
    string supportedVersion
    modTags tags
    string path
}

mod HPL_currentMod

int newMod(string path, string name, string supportedVersion, modTags tags = {}) {
    HPL_currentMod = {name, supportedVersion, {}, f"{path}/{name}"}
    removeFolder(path)
    createFolder(HPL_currentMod.path)

    string descriptor =  f"name = \"{name}\"\nsupported_version = \"{supportedVersion}\"\ntag = {"
    // if tags.alternativeHistory {
    //     descriptor += "\n\t\"Gameplay\""
    // }
    descriptor += "}\npath = \"mod/{name}\" "


    createFile(f"{path}/{name}.mod", descriptor)
    createFile(f"{path}/{name}/descriptor.mod", f"name = \"{name}\"\nsupported_version = \"{supportedVersion}\"\ntag = {\n\t\"Gameplay\"\n\t\"Historical\"\n}")


    return 0
}